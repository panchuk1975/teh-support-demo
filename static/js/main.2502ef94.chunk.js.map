{"version":3,"sources":["Redux/dialogsReducer.jsx","Api/api.js","Navbar/Navbar.module.css","images/User.jpg","images/preload.svg","serviceWorker.js","Common/Helpers/reduserHelpers.js","Redux/usersReducer.jsx","Redux/authReducer.jsx","Redux/appReducer.jsx","Redux/reduxStore.js","Navbar/Navbar.jsx","News/News.jsx","Music/Music.jsx","Common/Paginator/Paginator.jsx","Users/User.jsx","Users/Users.jsx","Redux/selectorsReducer.jsx","Users/UsersConteiner.jsx","Settings/Settings.jsx","Header/Header.jsx","Header/HeaderCoonteiner.jsx","login/Login.jsx","App.js","Hoc/withSuspens.js","index.js","Users/Users.module.css","Common/Preloader/Preloader.js","Common/Paginator/Paginator.module.css","utils/validators/validators.js","Common/FormsControls/Forms.js","Header/Header.module.css","login/Login.module.css","Common/FormsControls/Forms.module.css","Redux/profileReducer.jsx","Hoc/withAuthRedirect.js"],"names":["initialState","dialogsData","id","name","messagesData","message","Array","prototype","last","this","length","addMessage","newMessageText","type","dialogsReducer","state","action","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","doUnfollow","userId","delete","doFollow","post","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","authMe","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","module","exports","Boolean","window","location","hostname","match","updateObjectInArray","items","itemId","objPropName","newObjProps","map","user","users","totalUsersCount","isFetching","followingInProgress","follow","userID","unfollow","setUsers","setCurrentPage","setIsFetching","toggleFollowingProgress","followUnfollow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","outOffArray","i","splice","followed","count","newPageSize","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSucsess","authMeCreator","errorMessage","messages","stopSubmit","_error","url","console","log","authReducer","initialized","appReducer","redusers","combineReducers","profileReduser","dialogsReduser","usersPage","usersReduser","auth","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","News","props","content","Music","Pagenator","setNewPageSize","onPageChanged","pagesCount","Math","ceil","pages","push","useState","portionNumber","setPortionNumber","portionSize","setNewPortionSize","portionCount","leftPortionPageNumber","rightPortionPageNumber","inputs","size","min","max","step","defaultValue","onChange","event","target","value","paginator","buttons","onClick","filter","p","page","e","selectedPage","User","check","unfollowCreator","followCreator","key","firstPart","src","photos","small","YourAvatar","fotoStyle","alt","disabled","secondPart","thirdPart","Users","React","memo","Paginator","getIsFetching","getPageSize","createSelector","getTotalUsersCount","getCurrentPage","getFollowingInProgress","UsersConteiner","pageNumber","getUsersOnPageChanged","boolian","getUsersThunkCreator","Preloader","Component","withAuthRedirect","connect","totalCount","bind","Settings","Header","header","loginBlock","HeaderConteiner","maxLength40","maxLengthCreator","LoginReduxForm","reduxForm","handleSubmit","error","onSubmit","CreateField","required","formSummaryError","ProfileConteiner","lazy","DialogsConteiner","App","catchAllUnhandledErrors","promiseRejectionEvent","alert","initializedAPP","addEventListener","removeEventListener","from","path","render","Suspense","fallback","withRouter","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preload","preloader","maxLength","Element","input","meta","touched","children","hasError","formControl","placeholder","component","validators","text","InputElement","validate","postsData","likesCount","addPost","newPostText","setUserProfile","setStatus","getProfileCreator","file","getState","Promise","reject","profileReducer","posts","postId","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.2502ef94.chunk.js","sourcesContent":["let initialState = {\r\n  //newMessageText: \"New Text!\",\r\n\r\n  dialogsData: [\r\n    { id: 1, name: \"Vadik\" },\r\n    { id: 2, name: \"Natasha\" },\r\n    { id: 3, name: \"Olga\" },\r\n    { id: 4, name: \"Volodia\" },\r\n    { id: 5, name: \"OlgaV\" }\r\n  ],\r\n\r\n  messagesData: [\r\n    { id: 1, message: \"Hi!\" },\r\n    { id: 2, message: \"Hello!\" },\r\n    { id: 3, message: \"Hi-Hi!\" },\r\n    { id: 4, message: \"Ok\" },\r\n    { id: 5, message: \"OK-Ok\" },\r\n    { id: 6, message: \"OK-Ok\" }\r\n  ]\r\n  //,newMassegeText: 'New Text'\r\n};\r\n\r\nArray.prototype.last = function() {\r\n  return this[this.length - 1];\r\n}; // - function for last element\r\n\r\n//const UPDATE_NEW_MESSAGE_TEXT = 'UPDATE_NEW_MESSAGE_TEXT';\r\nconst ADD_MESSAGE = 'ADD_MESSAGE';\r\n\r\n//------------Actions CRIETORS---------------//\r\n\r\n// export const onChangeNewMessage = newMessageText => ({\r\n//   type: UPDATE_NEW_MESSAGE_TEXT, \r\n//   newText: newMessageText\r\n// })\r\n\r\nexport const addMessage = newMessageText => ({\r\n  type: ADD_MESSAGE, \r\n  newMessageText\r\n})\r\n\r\n//---------------REDUSER------------------------//\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  //let stateCopy;\r\n  switch (\r\n    action.type // - change on switch\r\n  ) {\r\n    // case UPDATE_NEW_MESSAGE_TEXT:\r\n    //   //stateCopy = { ...state };\r\n    //   // stateCopy.newMessageText = action.newText;\r\n    //   //return stateCopy;\r\n    //   return {\r\n    //     ...state,\r\n    //     newMessageText: action.newText\r\n    //   };\r\n\r\n    case ADD_MESSAGE:\r\n      // let newMessage = {\r\n      //   id: state.messagesData.last().id + 1, // - message  now is in the reduxStore\r\n      //   message: state./*message.*/ newMessageText // to get in state.newPostText\r\n      //   // not in DOM textarea !!!\r\n      // };\r\n      // stateCopy = {\r\n      //   // - first to make the copy\r\n      //   ...state, // - common copy (surface copy)\r\n      //   messages: [...state.messagesData], // - rewrite changing array\r\n      //   newMessageText: \"\", // to null textare\r\n      //   messagesData: [...state.messagesData, newMessage]\r\n      //   // - push new message\r\n      // };\r\n      //stateCopy.messagesData = [...state.messagesData];\r\n      //stateCopy.messagesData.push(newMessage);\r\n      //stateCopy.newMessageText = \"\"; // - to null textare\r\n      //return stateCopy;\r\n      return {\r\n        // - first to make the copy\r\n        ...state, // - common copy (surface copy)\r\n        // messages: [...state.messagesData], // - rewrite changing array\r\n        // newMessageText: \"\", // to null textare\r\n        messagesData: [\r\n          ...state.messagesData,\r\n          {\r\n            id: state.messagesData.last().id + 1,\r\n            message: action.newMessageText \r\n            // from dialogs props.newMassageText in Redux form\r\n            //message: state.newMessageText\r\n            // - to push new message\r\n          }\r\n        ]\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  //   if (action.type === \"ADD-MESSAGE\") {\r\n  //   } else if (action.type === \"UPDATE-NEW-MESSAGE-TEXT\") {\r\n  //     updateNewMessageText(action.newText);\r\n  //   } // - newText поступает как свойство action\r\n  //   return state;\r\n};\r\n\r\nexport default dialogsReducer;\r\n","import * as axios from \"axios\";\r\n\r\n// - DAL-objects, obgects for low server level actions !!!\r\n// export const getUsers = (currentPage, pageSize) => {\r\n//     return axios.get(\r\n//         `https://social-network.samuraijs.com/api/1.0/users?page=$\r\n//{currentPage}&count=${ pageSize}`,\r\n//         {withCredentials: true},//- can see \"follow\" - \"unfollow\" on page\r\n//       ).then(response => response.data); //-PROMISE - return only DATA!!\r\n// }//- becouse promise GET returns all response, we need only RESPONSE.DATA\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true, //- can see \"follow\" - \"unfollow\" on page\r\n  baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n\r\n  headers: {\r\n    \"API-KEY\": \"73ba89b2-a673-47b8-b695-9bef7378aa54\"\r\n    //\"crossdomain\": \"true\",\r\n    // \"Access-Control-Allow-Origin\": \"*\"\r\n  }\r\n});\r\n\r\nexport const usersAPI = {\r\n  // - pack for all methods to work with endPoints\r\n\r\n  getUsers(currentPage, pageSize) {\r\n    // - propertes of usersAPI!!!\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => response.data); //-PROMISE - return only DATA!!\r\n  }, //- becouse promise GET returns all response, we need only RESPONSE.DATA\r\n\r\n  doUnfollow(userId) {\r\n    return instance.delete(`follow/${userId}`).then(response => response.data);\r\n  },\r\n\r\n  doFollow(userId) {\r\n    return instance\r\n      .post(\r\n        `follow/${userId}`,\r\n        {} //- second object in POST!!!\r\n      )\r\n      .then(response => response.data);\r\n  },\r\n\r\n  getProfile(userId) {\r\n    //- GET returns PROMIS, we subscribe to ше with THEN\r\n    return profileAPI.getProfile(userId); //- redirecting\r\n  }\r\n};\r\n\r\nexport const profileAPI = {\r\n  // - pack for all methods to work with endPoints\r\n\r\n  getProfile(userId) {\r\n    //- GET returns PROMIS, we subscribe to ше with THEN\r\n    return instance\r\n      .get(\r\n        `profile/${userId}` // - and THEN returns other PROMIS that returns\r\n      )\r\n      .then(response => response.data); // - outside to US\r\n  },\r\n  getStatus(userId) {\r\n    return instance\r\n      .get(`profile/status/${userId}`)\r\n      .then(response => response.data);\r\n  },\r\n  updateStatus(status) {\r\n    // - json object\r\n    return instance\r\n      .put(`profile/status`, { status: status })\r\n      .then(response => response.data);\r\n  },\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photoFile);\r\n    return instance\r\n      .put(`profile/photo`, formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multypart/form-data\"\r\n        }\r\n      })\r\n      .then(response => response.data);\r\n  },\r\n  saveProfile(profile) {\r\n    // - json object\r\n    return instance.put(`profile`, profile).then(response => response.data);\r\n  }\r\n};\r\n\r\nexport const authAPI = {\r\n  // - pack for all methods to work with endPoints\r\n\r\n  authMe() {\r\n    //- GET returns PROMIS, we subscribe to ше with THEN\r\n    return instance\r\n      .get(\r\n        `auth/me` // - and THEN returns other PROMIS that returns\r\n      )\r\n      .then(response => response.data); // - outside to US\r\n  },\r\n\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    //- GET returns PROMIS, we subscribe to ше with THEN\r\n    return instance\r\n      .post(\r\n        `auth/login`,\r\n        { email, password, rememberMe, captcha } // - and THEN returns other PROMIS that returns\r\n      )\r\n      .then(response => response.data); // - outside to US\r\n  },\r\n\r\n  logout() {\r\n    //- GET returns PROMIS, we subscribe to ше with THEN\r\n    return instance\r\n      .delete(\r\n        `auth/login` // - and THEN returns other PROMIS that returns\r\n      )\r\n      .then(response => response.data); // - outside to US\r\n  }\r\n};\r\n\r\nexport const securityAPI = { // - has thunk into authReduser\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`)\r\n    .then(response => response.data); \r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3lC7K\",\"item\":\"Navbar_item__3fqh1\",\"activeLink\":\"Navbar_activeLink__3zgRH\"};","module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxIREhUSEhIWFRUVFRUVFRUVFxcYFxUVGBcXGhUYFxUYHSggGBolGxUVITEhJSkrLi4uFx8zODMsNygtLisBCgoKDg0OFxAQFy8dHx4uKy8tLS0tLS0tNy0rLS0tLS0tLS0tLS0tKy0tLS4rNy4tLS0tLS8rLS0rLS0uLS0tLf/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAAAAQIDBAUGBwj/xABAEAABAgMEBwcCBAUDBAMAAAABAAIDESEEEjFREzJBYXGBkQUGFCKhscFS8Acj0fEzYnKC4UKSskOzwtIVNIP/xAAZAQEBAQEBAQAAAAAAAAAAAAAAAQQCAwX/xAAhEQEAAgIBBAMBAAAAAAAAAAAAARECAxIhMUFRBCJCYf/aAAwDAQACEQMRAD8A9xWdadYo07s1ahQw4AkTJQNsOB4pbdqjj8FR2g3DJtEWdxeZOqJTQQwNYcVpKCJCABIEiMFV07s0EZWhZdUc/dGgbkq0aIWkgGQGxA63Yjgm2LW5fonQ3NLXOiESbUkmQAAmSTsC8h76/iQ6KXQbCTDhVa6MJiJE/oOLG78TuQei96O+tjsQLIkS9ElLRQ5OeP6qyZzIXmnav4pWh8xZ4TIQ2Od+Y/jWTR0K4FxJJJMyaknEnaSUiDatve23xv4lrin+l1wdIcgsqLaXvM3Pe4nEucSTzJUSEEkKO9lWvc2WF1xEuElpWTvPboWpa4w4vLh0fMLJQg7vsj8UbVDI07IccAiZlo39W+Wf9q9K7t9/7FbCGh+iiH/pxZNJP8rp3XcjPcvnpIUH05ExPEq9ZNUc14X3O/EGLZS2HaJx4GFSTEhjNrifM0fSeRC9jsnaTIzGxYDw6G8AtI9QQag5g1CC5b/9PP4Udk1uqks/nnerKUk+OwNE2iRQTRcDwKzFKyM4kAnEq34duSB0LVHAKnbNbkEj4zgSAaAkBTwGBwm6pQNsO3l8qW16p5e6itHkldpPFMgvLjJxmMkECFoeHbkhBH4MZlMMcs8oGCk8Y3I+n6qN0AvN4Skc0CsbpKmkqUSvZo6is6V+9yGO0dDWdaIe/SUFJVr970DRaC7ykCtE/wAGMyo2wC3zGUhWil8Y3I+n6oIvFnIJ7YIf5jty6JnhHZj1/Rc13972/wDx1nDWSMeJNsOdQ3a55G0CYpmRvQcx+MXbxhhtghO1wIkfe2fkZumRePBuwrylS2u1PivdEiPL3uM3OcZklRIBCEIBCEIBCEIBCEIBdF3K70vsEYTJMB5GlYOl9uTh6gSylzqEH0/AtDLjYkJweyI0Oa7YRiCOqkbFL/KacF5j+DvbRiNfYXuHkBiQZzndJ/MbwBLT/cV6cyGWG8cNyB5swFZmleij8YcgpDaQaSNabNqj8I7Mev6IJBZgazNa9Ux0TR+UV4p4tIFJGlNmxMfDMQ3hhvQKz8zGkst/7JXQgzzCss0jPy9as8t3HilfFDxdE5nNAzxhyCEeEdmPX9EIItC7Iq3BiAAAmRGxTrOtOsUEtpF4zbWmxJZhdM3UEpVUlhwPFLbtUcfgoFixAQQDMlVNC7Iogaw4rSQRiM3MLwf8W7dpe0XtBmITIcMZTLb5l/vHRezlfPvfCPft1pdnGeP9pu/CDHW72f3TtMUBxAhg1F81P9or1ktDuD2MIrzHeJthmTQcC+WO+QlzO5eitaBgs+3dxmoe+vVyi5eZ2juTaGibXQ37plp9RL1WDbbDEguuxWFh34HgcDyXtZCr2mxsiNLXNBacWkTB5FcY/Iny9MtEeHiiF3/a3cdjpuguMM/SfMz/ANm+q5i192LVD/6ReM4Zvegr6L3x245eXhlryx8MdCsv7PjDGDEHFjv0Ss7MjnCDFPBjv0Xdw4qVVC0Gdh2o4WeLzY4e6SJ2LaW42eL/ALHH2Cco9nGfSghOiMLTJwIORBB6FNVRvdw7boO0LM+cgYoYeESbP/IL6JtDg4SFTkvlyzRbj2u+lzXdCD8L6csjpunmJ9UCMhOBBIOIVzTtzCdFwPArLQTPhOJJAoSVYs7w0ScZFSwtUcAqds1uQQSWnzSu1ljJMgMLTMiQzT7Bt5fKlteqeXugdp25hCzUqAmtCz6oR4duXuq0WKWkgGQGCBbbiOCLFrHh8hPgNvibq7PuSI7QwTbQzly5oJo+qeCzpqaHFc4gEzBxVrw7cvdBIAvl3tp07RHOcaL/ANxy+k/EOz9l829usLbTaAcRGi/83IPTO5tm0djhfzAvP9xn7SW0qvZLLsCCMoUMdGhWl87Kbyl9DGKiAhCFy6Ca6GDsTkIGaEb+qNEPslPQgZoW5I0Lck9CCj2hYYb2yewPB2OAPQ4jkvPe9Xdzw/5sKZhEyINTDJwE9rd69LtOHNZ9usoiw3wzg9pbzOB5GR5L017Jxl57NcZR/Xj78DwX1FBdOzwzmxh9Avl57TUbcJb19PdnTLWMdgGNEuAC3sJIZqOIWlJROgNAJAqK7VU8Q7P0CBsQ1PE+6uWTV5lDIDSASKkTKhjPLDJpkEDrds5/CjsusOfspLP553qylL7CfGhhom0SKCeSVZ3iHZ+gSoJPGHIJwgX/ADTlNR+Edu++SlZHDRdM5jJA1ztHQVnWqGv0lDSVafe9JEbpKt2UqiGzR1dwp97kDjZw3zTwqm+MOQT3Rw4XROZoovCO3ffJBJ4QZlfPX4iWPQ9oWluwvvjg9ocfUkcl9CxLa0AmRoCei8X/ABJ7MLw20ipHkicCZtd1JH9wXE5xGUR7dRjM4zPp2dnEmt/pHsnpsLVHAeycvnt4QhCKEIQgEIQgEIQgjtGCqgq1H1VVQeYQLDpLeIGAdarm4NMWvRq+j3QrnmHReId3+zS62x45HlhxIgbPa8k4cBPqF7NYbRpYLB/qLRMnMY+y+hjnEzTBlhUWnFqJpLGnVO8GMymCzOFTKleil8W3eu3CPxJFJYU6JzYWk8xpsTDZiaiVa9U9kQMF047kCO/LwrPPd+6QRb/lIlNLE/M1dme/9kjIRYbxwGSB3gxmUJ3i270IJdM36h1VOMwlxIExmFAtGzaoQRWU3QQ6ldqW1G8JNqZ7Oajt2I4JLFrHh8hA2EwggkEBXdM36h1SWjVPBZqB0WA4giRqCMFykaE17SxwBa4EOBwIOIXfBcl2xZtHFdLAmY51IWf5ETUS0aJ7wogSQhCyNQQhCAQhCAQhCAQhCCO0aqqqzacOarIGQoYaJNEhMnm4kuPMkrtuxYRYxk6C7id9flcx2VYjGiBowxccm7f0Xb2oSZLgtXx475M2+e2Jz4jSCARgqWid9J6JIeI4j3WmtLMihxAAASMAq1oaXGYExmFFF1jxPurlj1eZQR2XyzvUnLHmn2h4LZAzOQTLds5/CismsOfsgbonZHohaSECXRks+0HzFL4l2foFYhwg4AkTJxxQJY6gzzRbKASz+CmR3XDJtAa5+6ILi8ydUSnlXlxQRQD5hxWhdGSgiQWtBIFRhiq/iXZ+gQRlxzVoWdsSHdeJg/rjPYVJ4ZuXqVXixS0loMgEHNdoQNHEc0YA04Go91WWp24wktedvl5io9z0WWvn7MeOUw34ZXjEhCELh2EIQgEIQgEIQggtJwCbZoV97W/U4DqU2K6ZKv8AYEKcW99AnzNB89F1jFzEOcprGZdM6xsggNhi7Oc8zhidqfZTN3VSQPPO9WWGzHhwTo0MME20P3mvoRFPnzNpojRI8Cs68c1K2O4kAmhpsVnwzMvUqh8ICQ4BU7WZO5IdHcCQDQGQwU0FgeJuqfvJA2xVnPd8qS1CTTy91HH8krtJ47fdNhRC43XGY+8kEF45pFf8MzL1KVBF4Pf6JNPc8spy2qTxbd6hfBLjeGBQODdJXCVEFmjrjOn30SwnaOjttaIiv0gk3HGv3vQJ4i95ZSnRL4Pf6JjYBabxwFVN4tu9BF4zd6pRAv8AmnKez0TPCu3KVkYMF04hBT7Ts35ZZiTUHIj7lzXMLsYo0lW7M1g9sWAwzflR2Mth/wArNvwv7Q0aM6+rMQhCytQQhCAQhCATIr5BPVSK+ZQMXW93+zZQg4mRfXlsH3msPsXs0xnzl5WyLp7cguwhxAwXTiMlq0YfqWbfn+TT+Vvnyw/dAi6TyylvRF/Mld2Yz3/skhwyw3jhuWlmO8LKs8K9E3xm71UjrS00E60UPhHbkEnhb1Z416pDF0fllPanttDQJGdKdFHEhl5vDDegUfm7pc8f2QYNzzTnLYiF+XrbcJbv3TokUPF0YnNAzxm71Qm+EduQgi0bvpPQq7AeA0AkA5FTLOtOsUElqF4i7Wmyvsiyi6ZmlNtFJYcDxS27VHH4KB0Z4LSAQTLAFUtG76T0KWBrDitJAwRW/UOoVOO0lxIBIzFdihK0LLqjn7oIrIboN6nGnui2gPbd1p4gVpyTbdiOCbYj5uR+EHOW6wuhmcjdOBkeh3qourtTw+YNW4SXO2+ymGZ4tOB2jcVj26uPWOzXq28uk91ZCRrp4JV4PcIQoIsbYOqAjxNg5p9gsL4xk0GQxMqD/KLBYzENdUYn4C6Swv0Ug0SbtA+8V7a9fLrPZ5bNnHpHdpWKFDhMDGkADGomTtJ3qK0NJdMCYzFVE4zJ4q9ZNUc1tjoxTNorJ5Z3qYY0zzT7S4FsgZnIVTLf/p5/Cjset1QNYwgihxGwq9pW/UOoSxcDwKy0EsRhJNDidis2ZwDZEyORopYWqOAVO2a3IIJLX5pXa44V9lHZ2kOBIIGZopLBt5fKlteqeXugfpW/UOoQsxKgW+cz1V6A0FomEeFbl6qvEilpujAIFtZkRKlNiLIZmtabeSfBbfE3VlRLFZcE24zlmgkjNAaZDYqF85nqrIc862G0IMJuXupa0shgyHRUo5N4gT5cFYvFIpyKNs+BvDhNJaTSgknIcJgjNS1pUTIjA4EEUOKVp6iYPEUKVVHO26xXHVwODht/yq11wwM+K6mJAEQXDt9N65yIwtJBxBkVj24cZ6dmzXnyjqrmG44nonWexOe6Qw2nIfqpWgkyGJoOK6OFZhDFzqc8ymrDlJs2cY6KsOGGgNbQBOVh0EKN8Ijf+poFqqmS7WLJFujAET6c0+LEmaTAyTRBIEpJCuolFmx1nOuGPNSWoSbSnBUU4uOEzwVtCw3GYqcQtC4Mh0Wc0y2KTxLs/RUMiOMzU4lWrKJtrXiiHBa4T27a7VFFeWGTcEDrZSUqY4clHZjNwnXHFSQfzJ3qyw2Y/snRYYYLzcQgnuDIdEKj4l2folQSeM/l9f8ACNBf805T2KPwrvsqxCfIXdoxQJDbcpjv/wAIJQkXEy6KhIhQCEIQCEIQU4ok85OF4cRQ/BSPdKW0kyAG0p/aIk0P+gh3LA+h9Elign+I/E6o+luXE7UvwteViBDuitScTv3blhdvQLrw4YPHqKH0kugVPtaBfhHNvmHLH0muNmN4u9eVZMjsSBeig7Gi9z2fryXQRod4ZHYcj+io9hQLsO9teZ8hQfJ5rRU1Y1ibcryUWOniJEGRGR+QlZ5ogH0+Y+zfWZ5KS2QCfO3WGz6m5cckzsyoc8/6jQZNbQDrNel+HFeV1IUIRDDCH7KN0E7FOhUVCEitvaDiqz2yRCAywTwbx8xlyUaFRa/hb58sP3Rpr/llKe3HBRibwBtE/hOhwyw3jgF0h3g/5vT/AChSeKb9hKgk0gzHVQEVJzKpq4BILmVgIQhcqEIQgEIQgEIQgChCEAlSLi/xK7TjQmwocNxY2JfLnNJBN27JsxgKz30VHZtYAAAJAAADclXnn4cdqRnRnQHOc9mjc+TiSWEFooTgDelLgvQ0AhCFAIQhAqRCEAmxWzCcgIKaE6IJEpq6RJAdJwPJWrS4FpAMzTBUlJZNYc/ZWAzRnI9Ei1EKojdDEsB0USjZaHEyMlIuclgIQhcqEIQgEIQgEJUiAQhCAVbtHs+FaGaOMwPbOcjOYOYIqDwVlcv357xPsjWMhAX4l43iJhrWywBxJn6Kjb7K7IgWYFsGGGzxMySeLjM8ldXGdx+9MW0xHQI8nG6XteABgQC1wFNuO5dmgEIQoBCEIBCEIBCEIILRjyUamtGxQrpArA/hzFDntxzVZTwDPynAqwItI7M9ShXPCt39UKoY2zSrOfJKn+Jbn6FV4kIuJcBQ4KTFraZImwiGCT+W1K54Opj8c+SlFlQmgOGsBLaUaVufoVKWzkJwacvZMc8AyKUFQhpnhVKVAiEIQCye8XYEK2sa15LXMJLXtlMTleEjiDIdAtZYnejvEyxMaS2+987jJyEhK8S6sh5gqG92+68Oxlzw4xIjhdL3CUm0JAGyZA27At1c53V71ttpdDMPRxGi9IOvBzQQCQ6QqCRTeujQCEIUAhKmucBiVQqEMN7BDqY0H3klAQk0jdhrwSFr8glSWbHw5qurd9mDsduOKY+FeM2inRWktAGnYpobC3zEYbM5p8DyTvUnhyTosQPF1uKtIb4z+X1QovDOy9QlVEK0LNqhCEFe3Yjgixax4fIQhBZtGqeCzUqEGoFn2rWPL2CVCCaw4HinW7V5/qhCCrZ8RxV1yEKSquflef8A4p/xIH9D/wDkEIXKqf4ef/e//OJ8L05uJQhBK7A8FQchC6hJacPAcAqNr1jySoVRJYdvL5Uls1eiVCClDxHELTQhBmRdY8T7q5Y9XmUIQR27Zz+FFZNYc/ZKhBfQhCD/2Q==\"","module.exports = __webpack_public_path__ + \"static/media/preload.7ea39d80.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newObjProps\r\n) => { // - returns new array\r\n  return  items.map(user => {\r\n    if (user[objPropName] === itemId) {\r\n      return { ...user, ...newObjProps}\r\n    } \r\n    return user;\r\n  });\r\n};\r\n","import { usersAPI } from \"../Api/api\";\r\nimport { updateObjectInArray } from \"../Common/Helpers/reduserHelpers.js\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst IS_FETCHING = \"IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\nconst SET_NEW_PAGE_SIZE = \"SET_NEW_PAGE_SIZE\";\r\n\r\n//----------------Byseness logick layer (BLL)-------------//\r\n\r\nlet initialState = {\r\n  // - начальный стейт пользователей\r\n  users: [\r\n    //  {\r\n    //   id: 1,\r\n    //   photoURL:\r\n    //     \"https://www.gstatic.com/images/branding/product/2x/photos_96dp.png\",\r\n    //   followed: true,\r\n    //   firstName: \"Vadim\",\r\n    //   status: \"Im a bosss\",\r\n    //   location: { city: \"Palta\", country: \"Ukraine\" }\r\n    // },\r\n    // {\r\n    //   id: 2,\r\n    //   photoURL:\r\n    //     \"https://www.gstatic.com/images/branding/product/2x/photos_96dp.png\",\r\n    //   followed: false,\r\n    //   firstName: \"Olga\",\r\n    //   status: \"Im a bosss\",\r\n    //   location: { city: \"Zhitomir\", country: \"Ukraine\" }\r\n    // },\r\n    // {\r\n    //   id: 3,\r\n    //   photoURL:\r\n    //     \"https://www.gstatic.com/images/branding/product/2x/photos_96dp.png\",\r\n    //   followed: false,\r\n    //   firstName: \"Natasha\",\r\n    //   status: \"Im a bosss\",\r\n    //   location: { city: \"Palta\", country: \"Ukraine\" }\r\n    // }\r\n  ],\r\n  pageSize: 100,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false, // - preloader\r\n  followingInProgress: [], //- array of cliked userId\r\n  //portionSize: 5 - in paginator local state\r\n}; // - все прокинуть через mapStateToProps в UsersConteiner !!!!\r\n\r\n// Array.prototype.last = function() { // for numbers\r\n//   return this[this.length - 1];\r\n// }; // - function for last element\r\n\r\n// -------------- ACTION CRIATORS FUNCTIONS--------------//\r\n\r\nexport const follow = userID => ({\r\n  type: FOLLOW,\r\n  userID\r\n});\r\nexport const unfollow = userID => ({\r\n  type: UNFOLLOW,\r\n  userID\r\n});\r\nexport const setUsers = users => ({\r\n  type: SET_USERS,\r\n  users // = users: users !!!\r\n});\r\n\r\nexport const setNewPageSize = newPageSize => ({\r\n  type:SET_NEW_PAGE_SIZE,\r\n  newPageSize\r\n})\r\n\r\nexport const setCurrentPage = currentPage => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage\r\n});\r\nexport const setUsersTotalCount = totalUsersCount => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount // просто свойтво ACTION.COUNT\r\n});\r\nexport const setIsFetching = isFetching => ({\r\n  type: IS_FETCHING,\r\n  isFetching\r\n});\r\nexport const toggleFollowingProgress = (followingInProgress, userID) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  followingInProgress,\r\n  userID\r\n});\r\n\r\n//----------------------THUNK functions---------------------//\r\n\r\n//----------------------NEW ASYNC AWAITS---------------------//\r\n//- export to UsersConteiner and into CONNECT (getMapToProps)\r\nexport const getUsersThunkCreator = (\r\n  currentPage,\r\n  pageSize\r\n) => async dispatch => {\r\n  dispatch(setIsFetching(true));\r\n  let response = await usersAPI.getUsers(currentPage, pageSize);\r\n  dispatch(setIsFetching(false));\r\n  dispatch(setUsers(response.items));\r\n  dispatch(setUsersTotalCount(response.totalCount));\r\n};\r\n\r\nexport const getUsersOnPageChanged = (\r\n  currentPage,\r\n  pageSize\r\n) => async dispatch => {\r\n  // - the Thunk function\r\n  dispatch(setIsFetching(true));\r\n  dispatch(setCurrentPage(currentPage));\r\n  let response = await usersAPI.getUsers(currentPage, pageSize);\r\n  dispatch(setIsFetching(false));\r\n  dispatch(setUsers(response.items));\r\n};\r\n\r\n// export const followCreator = userId => async dispatch => {\r\n//   dispatch(toggleFollowingProgress(true, userId));\r\n//   let response = await usersAPI.doFollow(userId);\r\n//   if (response.resultCode === 0) {\r\n//     dispatch(follow(userId));\r\n//   }\r\n//   dispatch(toggleFollowingProgress(false, userId));\r\n// };\r\n\r\n// export const unfollowCreator = userId => async dispatch => {\r\n//   dispatch(toggleFollowingProgress(true, userId));\r\n//   let response = await usersAPI.doUnfollow(userId);\r\n//   if (response.resultCode === 0) {\r\n//     dispatch(unfollow(userId));\r\n//   }\r\n//   dispatch(toggleFollowingProgress(false, userId));\r\n//};\r\n\r\n//----------------------Refactoring----------------------//\r\n\r\nconst followUnfollow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let response = await apiMethod(userId);\r\n  if (response.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const followCreator = userId => async dispatch => {\r\n  followUnfollow(dispatch, userId, usersAPI.doFollow.bind(usersAPI), follow);\r\n};\r\n\r\nexport const unfollowCreator = userId => async dispatch => {\r\n  followUnfollow(\r\n    dispatch,\r\n    userId,\r\n    usersAPI.doUnfollow.bind(usersAPI),\r\n    unfollow\r\n  );\r\n};\r\n\r\n//-------------- CHECK STATE ACTION FUNCKTION--------------//\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  // -we remove the element of the array\r\n  const outOffArray = user => {\r\n    let i = 0;\r\n    while (i <= state.followingInProgress.length) {\r\n      if (state.followingInProgress[i] === user) {\r\n        state.followingInProgress.splice(i, 1);\r\n      } // - splise вместо метода массива filter\r\n      i++;\r\n    }\r\n    return state.followingInProgress;\r\n  };\r\n\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userID, \"id\", {\r\n          followed: true\r\n        })\r\n        // users: [...state.users],\r\n        //   users: state.users.map(user => {\r\n        //     if (user.id === action.userID) {\r\n        //       return { ...user, followed: true };\r\n        //     }\r\n        //     return user;\r\n        //    })\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userID, \"id\", {\r\n          followed: false\r\n        })\r\n        // users: state.users.map(user => {\r\n        //   if (user.id === action.userID) {\r\n        //     return { ...user, followed: false };\r\n        //   }\r\n        //   return user;\r\n        //  })\r\n      };\r\n\r\n    case SET_USERS:\r\n      return { ...state, users: action.users }; // - rewrite Users\r\n    //return { ...state, users: [...state.users, ...action.users] };// - add to the and\r\n    // - склеиваем старый и новый массив\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.currentPage };\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return { ...state, totalUsersCount: action.count };\r\n\r\n    case IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching };\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.followingInProgress\r\n          ? [...state.followingInProgress, action.userID]\r\n          : outOffArray(action.userID)\r\n      };\r\n    // - if folse ilter (delete) userId and FILTER returns new array\r\n\r\n    case SET_NEW_PAGE_SIZE:\r\n      return{\r\n      ...state,\r\n      pageSize: action.newPageSize\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default usersReducer;\r\n","import { authAPI, securityAPI } from \"../Api/api.js\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_AUTH_USER_DATA = \"SET_AUTH_USER_DATA\";\r\n// - action: if serverDAta came - setUserData\r\nconst IS_FETCHING = \"IS_FETCHING\";\r\nconst GET_CUPTCHA_URL_SUCSESS = \"GET_CUPTCHA_URL_SUCSESS\";\r\n\r\n//----------------------INITIAL STATE____________________??\r\nlet initialState = {\r\n  // - начальный стейт пользователей\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  rememberMe: null,\r\n  captchaUrl: null\r\n  //   isFetching: false // - preloader\r\n}; // - все прокинуть через mapStateToProps в UsersConteiner !!!!\r\n\r\n// -------------- ACTION CRIATORS FUNCTIONS--------------//\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({\r\n  type: SET_AUTH_USER_DATA,\r\n  payload: { id, email, login, isAuth }\r\n});\r\n\r\nexport const getCaptchaUrlSucsess = captchaUrl => ({\r\n  type: GET_CUPTCHA_URL_SUCSESS,\r\n  payload: { captchaUrl }\r\n});\r\n\r\n// export const setIsFetching = isFetching => ({\r\n//   type: IS_FETCHING,\r\n//   isFetching\r\n// });\r\n\r\n//-------------- CHECK STATE ACTION FUNCKTION--------------//\r\n// -------Add and import authReduser into reduxStore------//\r\nconst authReducer = (state = initialState, action) => {\r\n  // - all Data for changing State allways lay in ACTION property\r\n  switch (action.type) {\r\n    case SET_AUTH_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload // - criate obj DATA and distruct it\r\n        //isAuth: true\r\n      }; // - in DATA (userId, email, login) will rewrite initialState\r\n\r\n    case IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching };\r\n\r\n    case GET_CUPTCHA_URL_SUCSESS:\r\n      return { ...state, ...action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//----------------------THUNK functions--------------------//\r\n\r\n//------------------------OLD-------------------------------//\r\n//- export to UsersConteiner and into CONNECT (getMapToProps)\r\n// export const authMeCreator = () => {\r\n//   // - thuncCreator get arguments from STATE !!! and returns f()\r\n//   return dispatch => {\r\n//     return authAPI.authMe().then(response => {//- return Promis out!!!\r\n//       // - throw like a props !!!\r\n//       if (response.resultCode === 0) {\r\n//         let { id, login, email } = response.data; // restruction\r\n//         dispatch(setAuthUserData(id, email, login, true));\r\n//       }\r\n//     });\r\n//   };\r\n// };\r\n\r\n//----------------------NEW ASYNC AWAIT THUNK---------------------//\r\n\r\nexport const authMeCreator = () => async dispatch => {\r\n  let response = await authAPI.authMe(); // promise wiil be\r\n  // resolwed and returned like a responce\r\n  if (response.resultCode === 0) {\r\n    let { id, login, email } = response.data; // restruction\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const logout = () => async dispatch => {\r\n  let response = await authAPI.logout();\r\n  if (response.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async dispatch => {\r\n  let response = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n  if (response.resultCode === 0) {\r\n    let id = response.data.userId; // restruction\r\n    dispatch(setAuthUserData(id, email, password, true));\r\n  } else { if (response.resultCode === 10) { \r\n    dispatch(getCaptchaUrl());\r\n  }\r\n    let errorMessage =\r\n      response.messages.length > 0 ? response.messages[0] \r\n      : \"Some error !!!\";\r\n    // - dispatch action creator from redux-form for\r\n    //stoping form\r\n    dispatch(\r\n      stopSubmit(\"login\", {\r\n        //email:'Email is wrong!'\r\n        //_error:'Email or password are wrong!'\r\n        _error: errorMessage\r\n      })\r\n    );\r\n  }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async dispatch => {\r\n  const response = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = response.url;\r\n  console.log(captchaUrl);\r\n  // = let add captchaUrl in to State = null\r\n    dispatch(getCaptchaUrlSucsess(captchaUrl));\r\n};\r\n\r\nexport default authReducer;\r\n","//import { authAPI } from \"../Api/api.js\";\r\n//import { stopSubmit } from \"redux-form\";\r\nimport { authMeCreator } from \"./authReducer.jsx\";\r\n\r\nconst INITIALIZED_SUCSESS = \"INITIALIZED_SUCSESS\";\r\n// - action: if serverDAta came - setUserData\r\n\r\n//----------------------INITIAL STATE____________________??\r\nlet initialState = {\r\n  // - начальный стейт пользователей\r\n  initialized: false,\r\n}; // - все прокинуть через mapStateToProps в UsersConteiner !!!!\r\n\r\n// -------------- ACTION CRIATORS FUNCTIONS--------------//\r\n\r\nexport const initializedSucsess = () => ({\r\n  type: INITIALIZED_SUCSESS\r\n});\r\n\r\n//-------------- CHECK STATE ACTION FUNCKTION--------------//\r\n// -------Add and import authReduser into reduxStore------//\r\nconst appReducer = (state = initialState, action) => {\r\n  // - all Data for changing State allways lay in ACTION property\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCSESS:\r\n      return {\r\n        ...state,\r\n        initialized: true \r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//----------------------THUNK functions---------------------//\r\n\r\n//- export to UsersConteiner and into CONNECT (getMapToProps)\r\nexport const initializedAPP = () => {\r\n  // - thuncCreator get arguments from STATE !!! and returns f()\r\n  return dispatch => {\r\n    let promise = dispatch(authMeCreator());// - get DATA on SERVER\r\n    // - ASINHRONIC THUNK functions can use in array!!!!!\r\n    promise.then(()=>{ // - then Promise => make dispatch !!!!!!!!!!!\r\n   // Promise.all([promise]).then(()=>{ //-then Promise => make dispatch !!!!!!!!!!!\r\n      dispatch(initializedSucsess())\r\n    });\r\n  }\r\n}\r\n\r\n\r\nexport default appReducer;\r\n","import {applyMiddleware,createStore, combineReducers,compose} from \"redux\";\r\nimport profileReduser from './profileReducer';\r\nimport dialogsReduser from './dialogsReducer';\r\nimport usersReduser from './usersReducer';\r\nimport authReducer from './authReducer';\r\nimport appReducer from './appReducer';\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\n//- thunk under the name  thunkMiddleware (from redux)\r\n\r\n//-----------Redusers (Initial State + all functions-------------//\r\n\r\nlet redusers = combineReducers({ // - create pages of reduxState !!!!\r\n    profile: profileReduser, // - we alwaus took state from heare\r\n    messages: dialogsReduser,\r\n    usersPage: usersReduser,\r\n    auth: authReducer, \r\n    form: formReducer,\r\n    app: appReducer // - special redux form reduser !\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(redusers, /* preloadedState, */ composeEnhancers(\r\n//const store = createStore(reducer, /* preloadedState, */ compose(\r\n    applyMiddleware(thunkMiddleware)\r\n  ));\r\n\r\n//let store = createStore(redusers, applyMiddleware(thunkMiddleware));\r\n// - add applyMiddleware() imported from redax than we can dispatch \r\n// - functions like THUNK function getUsersThunkCreator from usersReduser\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport s from './Navbar.module.css';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n       <div className = {s.item}>\r\n        <NavLink to = '/Login' activeClassName = {s.activeLink}>\r\n          Login</NavLink>\r\n      </div>\r\n      <div className = {s.item}>\r\n        <NavLink to = '/Profile' activeClassName = {s.activeLink}>\r\n          Profile</NavLink>\r\n      </div>\r\n      <div className = {`${s.item} ${s.active}`}> \r\n        <NavLink to = '/Dialogs' activeClassName = {s.activeLink}>\r\n          Massages</NavLink>\r\n      </div>\r\n      <div className = {s.item}>\r\n        <NavLink to = '/News' activeClassName = {s.activeLink}> \r\n        News</NavLink>\r\n      </div>\r\n      <div className = {s.item}>\r\n        <NavLink to = '/Music'  activeClassName = {s.activeLink}>\r\n          Music</NavLink>\r\n      </div>\r\n      <div className = {s.item}>\r\n        <NavLink to = '/Settings' activeClassName = {s.activeLink}>\r\n          Setttings</NavLink>\r\n      </div>\r\n      <div className = {s.item}>\r\n        <NavLink to = '/Users' activeClassName = {s.activeLink}>\r\n          Users</NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div className = {s.content}>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;\r\n","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div className = {s.content}>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;\r\n","import React, { useState } from \"react\";\r\nimport s from \"./Paginator.module.css\";\r\n\r\nlet Pagenator = ({\r\n  totalUsersCount,\r\n  pageSize,\r\n  //portionSize,\r\n  setNewPageSize,\r\n  //setNewPortionSize,\r\n  currentPage,\r\n  onPageChanged\r\n}) => {\r\n  //console.log(props.users);\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let [portionSize, setNewPortionSize] = useState(8);\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  //------------------------Use Local State------------------//\r\n\r\n  let onSetNewPortionSize = event => {\r\n    if (event.target.value < 4) return setNewPortionSize(4);\r\n    setNewPortionSize((portionSize = event.target.value));\r\n  };\r\n\r\n  //------------------------Use Global State------------------//\r\n\r\n  let onSetNewPageSize = event => {\r\n    // console.log(event.target.value);\r\n    setNewPageSize(event.target.value);\r\n    onPageChanged(currentPage);\r\n  };\r\n  //console.log(pages);\r\n\r\n  return (\r\n    <div>\r\n      <div className={s.inputs}>\r\n        <span>\r\n          Пользователей на странице:\r\n          <input\r\n            type=\"number\"\r\n            size=\"3\"\r\n            name=\"num1\"\r\n            min=\"10\"\r\n            max=\"100\"\r\n            step=\"10\"\r\n            defaultValue={pageSize}\r\n            onChange={onSetNewPageSize}\r\n          />\r\n        </span>\r\n        <span>\r\n          Отображать страниц:\r\n          <input\r\n            type=\"number\"\r\n            size=\"3\"\r\n            name=\"num2\"\r\n            min=\"4\"\r\n            max=\"15\"\r\n            step=\"1\"\r\n            defaultValue={portionSize}\r\n            onChange={onSetNewPortionSize}\r\n          />\r\n        </span>\r\n      </div>\r\n\r\n      <div className={s.paginator}>\r\n        <span>\r\n          {portionNumber > 1 && (\r\n            <button\r\n              className={s.buttons}\r\n              onClick={() => {\r\n                setPortionNumber(portionNumber - 1);\r\n              }}\r\n            >\r\n              Prev\r\n            </button>\r\n          )}\r\n        </span>\r\n        {pages\r\n          .filter(\r\n            p => p >= leftPortionPageNumber && p <= rightPortionPageNumber\r\n          )\r\n          .map(page => {\r\n            return (\r\n              <span className = {s.pages}>\r\n                <span\r\n                  onClick={\r\n                    e => {\r\n                      onPageChanged(page);\r\n                    }\r\n                    // {this.props.setCurrentPage(page)}\r\n                  }\r\n                  className={currentPage === page && s.selectedPage}\r\n                >\r\n                  {page + \",\"}\r\n                </span>\r\n              </span>\r\n            );\r\n          })}\r\n        <span>\r\n          {portionNumber < portionCount && (\r\n            <button\r\n              className={s.buttons}\r\n              onClick={() => {\r\n                setPortionNumber(portionNumber + 1);\r\n              }}\r\n            >\r\n              Next\r\n            </button>\r\n          )}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagenator;\r\n","import React from \"react\";\r\nimport YourAvatar from \"../images/User.jpg\";\r\nimport s from \"./Users.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet User = ({user, check, unfollowCreator, followCreator}) => {\r\n  return (\r\n    <div>\r\n      <div key={user.id} className={s.user}>\r\n        <span id={s.firstPart}>\r\n          <div>\r\n            <NavLink to={\"/Profile/\" + user.id}>\r\n              <img\r\n                src={user.photos.small != null ? user.photos.small : YourAvatar}\r\n                id={s.fotoStyle}\r\n                alt=\"avatar\"\r\n              />\r\n            </NavLink>\r\n          </div>\r\n          <div>\r\n            {user.followed ? (\r\n              <button // - followingInProgress  ID.array[ ]\r\n                disabled={\r\n                  check(user.id) //{props.followingInProgress.some(id=>id===user.id)}\r\n                }\r\n                onClick={() => {\r\n                  unfollowCreator(user.id);\r\n                }} // - thunk function from usersReduser\r\n              >\r\n                Unfollow\r\n              </button>\r\n            ) : (\r\n              <button\r\n                disabled={\r\n                  check(user.id) //{props.followingInProgress.some(id=>id===user.id)}\r\n                }\r\n                onClick={() => {\r\n                  followCreator(user.id);\r\n                }}\r\n              >\r\n                Follow\r\n              </button>\r\n            )}\r\n          </div>\r\n        </span>\r\n\r\n        <span id={s.secondPart}>\r\n          <div>{user.name}</div>\r\n        </span>\r\n        <span id={s.thirdPart}>\r\n          {/* <div>{user.location.city}</div>\r\n                    <div>{user.location.country}</div> */}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = React.memo(props => {\r\n  //console.log(props.users);\r\n  // = clear function\r\n  return (\r\n    <div>\r\n      <Paginator {...props} />\r\n      {props.users.map(user => (\r\n        <User user={user} {...props} />\r\n      ))}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Users;\r\n","import {createSelector} from 'reselect';\r\n\r\n//----------------Primitive Selectors------------------//\r\n\r\nexport const getUsers = state => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getIsFetching = state => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getUsersSelector = state => {//-example !!!\r\n    return getUsers().filter(user => true)\r\n}\r\n\r\n//------------------React RESELECT----------------------//\r\n\r\nexport const getUsersSuperSelector = createSelector(\r\n    getUsers,getIsFetching,(users, isFetching) => {//- getUsers let Users for check\r\n    return users.filter(user => true)\r\n})\r\n\r\n//-------------------------------------------------------//\r\n\r\nexport const getPageSize = state => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\n// export const setNewPageSize = state => {\r\n//     return state.usersPage.pageSize\r\n// }\r\n\r\nexport const getTotalUsersCount = state => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = state => {\r\n    return  state.usersPage.currentPage\r\n}\r\n\r\nexport const getFollowingInProgress = state => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  follow,\r\n  unfollow,\r\n  setNewPageSize,\r\n  //setUsers,\r\n  //setCurrentPage,\r\n  //setUsersTotalCount,\r\n  //setIsFetching,\r\n  toggleFollowingProgress,\r\n  getUsersThunkCreator,\r\n  getUsersOnPageChanged,\r\n  followCreator,\r\n  unfollowCreator\r\n} from \"../Redux/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader.js\";\r\nimport withAuthRedirect from \"../Hoc/withAuthRedirect.js\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  getUsers,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getFollowingInProgress\r\n} from \"../Redux/selectorsReducer\";\r\n\r\nlet mapStateToProps = state => {\r\n  return {\r\n    ...state,\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state), //state.usersPage.currentPage,\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  };\r\n};\r\n\r\n//------------let change mapDispatchToProps -------------//\r\n//-------------to object in connect-----------//\r\n\r\n// let mapDispatchToProps = dispatch => {\r\n//   return {\r\n//     follow: userID => {\r\n//       dispatch(followAC(userID));\r\n//     },\r\n//     unfollow: userID => {\r\n//       dispatch(unfollowAC(userID));\r\n//     },\r\n//     setUsers: users => {\r\n//       dispatch(setUsersAC(users));\r\n//     },\r\n//     setCurrentPage: pageNumber => {\r\n//       dispatch(setCurrentPageAC(pageNumber));\r\n//     },\r\n//     setUsersTotalCount: totalCount => {\r\n//       dispatch(setUsersTotalCountAC(totalCount));\r\n//     },\r\n//     setIsFetching: isFetching => {\r\n//       dispatch(setIsFetchingAC(isFetching));\r\n//     }\r\n//   };\r\n// };\r\n// - прокидываем State из usersReduser (InitialState)\r\n// через пропсы в Users\r\n\r\n// - conteiner component for axios\r\nclass UsersConteiner extends React.Component {\r\n  // - сначала пустая отрисовка, setUsers методом RENDER() а потом метод\r\n  // componentDidMount(), запрос на сервер и отрисовка setUsers([10])\r\n  //\r\n\r\n  //constructor (props) {\r\n  // super(props); // - создание объекта по пропсам из UsersConteiner\r\n  // axios // - запрос на сервер после создания объекта  и отрисовка\r\n  //       .get(\"https://social-network.samuraijs.com/api/1.0/users\")\r\n  //       .then(response => {\r\n  //         this.props.setUsers(response.data.items);\r\n  //       });\r\n  //}\r\n\r\n  // - исключаем САЙД_ЭФФЕКТЫ !!!!\r\n  componentDidMount() {\r\n    this.props.getUsersThunkCreator(\r\n      this.props.currentPage,\r\n      this.props.pageSize\r\n    );\r\n    //   // - preloading active\r\n    //   this.props.setIsFetching(true);\r\n    //   // - компонента была отрисована, метод в котором можно делать все\r\n    //   //сайд-еффекты после прорисовки компоненты, компонента активна\r\n    //   // getUsers() - function from Api.js\r\n    //     usersAPI.getUsers(this.props.currentPage, this.props.pageSize).then(response => {\r\n    //       // - preloading disactive\r\n    //       this.props.setIsFetching(false);\r\n    //       //this.props.setUsers(response.data.items);\r\n    //       this.props.setUsers(response.items);//-don't need DATA\r\n    //       this.props.setUsersTotalCount(response.totalCount);\r\n    //     });\r\n  }\r\n\r\n  // - метод для запроса на сервер в момент клика\r\n  // при смене страницы\r\n  onPageChanged = pageNumber => {\r\n    //this.props.getUsersThunkCreator(pageNumber, this.props.pageSize);\r\n    //- thuk functions from usersReduser and reduxStore\r\n    this.props.getUsersOnPageChanged(pageNumber, this.props.pageSize);\r\n    // //- get pageNumber - текущую страницу\r\n    // this.props.setIsFetching(true);\r\n    // this.props.setCurrentPage(pageNumber);\r\n    // usersAPI.getUsers(pageNumber, this.props.pageSize).then(response => {\r\n    //   this.props.setIsFetching(false);\r\n    //   this.props.setUsers(response.items);\r\n    // });\r\n  };\r\n\r\n  check = user => {\r\n    let i = 0;\r\n    let boolian = false;\r\n    while (i <= this.props.followingInProgress.length) {\r\n      if (this.props.followingInProgress[i] === user) {\r\n        boolian = true;\r\n      }\r\n      i++;\r\n    }\r\n    //console.log(this.props.followingInProgress,  user, boolian);\r\n    return boolian;\r\n  };\r\n\r\n  // - если простое делигирование props то конструктор можно\r\n  // не писать и начинать с методов (render)\r\n  // - call new method getUsers without LET !!!\r\n  // - in all methods and props add \"THIS\" !!!\r\n  //   getUsers = () => {\r\n  //     // dont get props!!!\r\n  //   if (this.props.usersPage.users.length === 0) {\r\n  //     axios\r\n  //       .get(\"https://social-network.samuraijs.com/api/1.0/users\")\r\n  //       .then(response => {\r\n  //         this.props.setUsers(response.data.items);\r\n  //       });\r\n  //   }\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          {...this.props}\r\n          onPageChanged={this.onPageChanged}\r\n          check={this.check}\r\n          // totalUsersCount={this.props.totalUsersCount}\r\n          // pageSize={this.props.pageSize}\r\n          // currentPage={this.props.currentPage}\r\n          // users={this.props.usersPage.users}\r\n          // follow={this.props.follow}\r\n          // unfollow={this.props.unfollow}\r\n          // followingInProgress={this.props.followingInProgress}\r\n          // toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n//let withRedirect = withAuthRedirect(UsersConteiner);\r\n// - conteiner component for props\r\n//export default  withAuthRedirect(connect(mapStateToProps, {\r\n// OBJECT instead of mapDispatchToProps !!!!\r\n// if we RENAME action creators like propertis\r\n// we can write only \"follow,\"\" instead ( \"follow: followAC\")\r\n//follow,\r\n//unfollow,\r\n//setUsers,\r\n//setCurrentPage,\r\n//setUsersTotalCount,// - dispatching into getUsersThunkCreator\r\n//setIsFetching,\r\n//toggleFollowingProgress,\r\n//getUsersThunkCreator, // - import from usersReduser\r\n//getUsersOnPageChanged,\r\n//followCreator,\r\n//unfollowCreator\r\n//})(UsersConteiner));\r\n// - we changed User component to UserClass component\r\n\r\n//---------------Function COMPOSE from REDUX---------------------//\r\n\r\n//-ProfileConteiner to => withAuthRedirect => withRouter =>\r\n//connect (...) => default =>\r\n\r\nexport default compose(\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    toggleFollowingProgress,\r\n    getUsersThunkCreator,\r\n    getUsersOnPageChanged,\r\n    followCreator,\r\n    unfollowCreator,\r\n    setNewPageSize\r\n  })\r\n)(UsersConteiner);\r\n","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div className = {s.content}>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport \"./Header.module.css\";\r\nimport s from \"./Header.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = props => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img\r\n        alt=\"header\"\r\n        src=\"https://www.photoukraine.com/photos/150034.jpg\"\r\n      ></img>\r\n      <div className={s.loginBlock}>\r\n        {props.isAuth ? (\r\n          <div>\r\n            {props.email} <button onClick={props.logout}>Logout</button>{\" \"}\r\n          </div>\r\n        ) : (\r\n          <NavLink to={\"/login\"}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { authMeCreator, login, logout } from \"../Redux/authReducer.jsx\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: state.auth.isAuth, // - from state to props\r\n  email: state.auth.email\r\n});\r\n\r\nclass HeaderConteiner extends React.Component {\r\n  componentDidMount() {\r\n    this.props.authMeCreator(); // - thunk function from headerReduser\r\n    // authAPI.authMe().then(response => { // - throw like a props !!!\r\n    //     if (response.resultCode === 0){\r\n    //       let {id, login, email} = response.data; // restruction\r\n    //       this.props.setAuthUserData(id, login, email);\r\n    //     }\r\n    //   });\r\n  }\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, \r\n  { authMeCreator, logout, login })(HeaderConteiner);\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { required, maxLengthCreator } from \"../utils/validators/validators\";\r\n// import {\r\n//   ElementInput\r\n//   //CheckBox\r\n// } from \"../Common/FormsControls/Forms.js\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../Redux/authReducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport s from \"./Login.module.css\";\r\nimport {CreateField} from '../Common/FormsControls/Forms';\r\n\r\nlet maxLength40 = maxLengthCreator(40);\r\n\r\n//let maxLength1 = maxLengthCreator(1);\r\n\r\n//const InputElement = ElementInput(\"input\");\r\n\r\n//const CheckBoxInput = CheckBox(\"checkbox\");\r\n\r\n//---------Functional Login component-----------//\r\n\r\n//const LoginForm = props => { // make distruktion\r\nconst LoginForm = ({handleSubmit, error, captchaUrl})=> {\r\n  //console.log('write');\r\n  return (\r\n    // 1) make e.preventDefault, 2)get all formData and\r\n    // put them to the object {formData}, 3)call props.onSubmit(formData)\r\n    //<form onSubmit={props.handleSubmit}>\r\n    //placeholder, name, component, maxLength, type, text, props\r\n    <form onSubmit={handleSubmit}>\r\n      {CreateField(\"Email\", \"email\", \"input\", [required, maxLength40], \"input\")}\r\n      {/* <div>\r\n        <Field\r\n          placeholder={\"Email\"}\r\n          name={\"email\"}\r\n          component={InputElement}\r\n          validate={[required, maxLength40]}\r\n          type=\"input\"\r\n        />\r\n      </div> */}\r\n       {CreateField(\"Password\", \"password\", \"input\", [required, maxLength40], \"password\")}\r\n      {/* <div>\r\n        <Field\r\n          placeholder={\"Password\"}\r\n          name={\"password\"}\r\n          component={InputElement}\r\n          validate={[required, maxLength40]}\r\n          type=\"password\"\r\n        />\r\n      </div> */}\r\n        {CreateField(null, \"rememberMe\", \"input\", [required], \"checkbox\", \"Remember\")}\r\n      {/* <div>\r\n        <Field\r\n          name={\"rememberMe\"}\r\n          component={InputElement}\r\n          //validate={[required, maxLength1]}\r\n          type={\"checkbox\"}\r\n        />\r\n        Remember\r\n      </div> */}\r\n      {error && (// - if props.error show error <DIV>\r\n        <div className={s.formSummaryError}>\r\n          {error}\r\n        </div>\r\n      )}\r\n      <div>\r\n        <button>Log on</button>\r\n      </div>\r\n      {captchaUrl && <img src = {captchaUrl} id = {s.captcha}/>}\r\n      {captchaUrl && CreateField(\"Symbols\", \"captcha\", \"input\", [required, maxLength40], \"input\")}\r\n    </form>\r\n  );\r\n};\r\n\r\n//---------Redux conteiner Login component-----------//\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  // a unique form name\r\n  form: \"login\"\r\n})(LoginForm); // - redux special conteiner component\r\n\r\n//---------Conteiner Login component-----------//\r\n\r\nconst Login = props => {\r\n  const onSubmit = formData => {\r\n    props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n  };\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"} />;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl = {props.captchaUrl} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: state.auth.isAuth,\r\n  email: state.auth.email,\r\n  captchaUrl: state.auth.captchaUrl\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import React, {Component} from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./Navbar/Navbar.jsx\";\n//import DialogsConteiner from \"./Dialogs/DialogsConteiner\";\nimport News from \"./News/News.jsx\";\nimport Music from \"./Music/Music.jsx\";\nimport UsersConteiner from \"./Users/UsersConteiner\";\nimport Settings from \"./Settings/Settings.jsx\";\nimport { Route,\n  // BrowserRouter \n  } from \"react-router-dom\";\n//import ProfileConteiner from \"./Profile/ProfileConteiner\";\nimport HeaderConteiner from \"./Header/HeaderCoonteiner\";\nimport Login from \"./login/Login\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport {initializedAPP} from './Redux/appReducer.jsx';\nimport Preloader from \"./Common/Preloader/Preloader\";\nimport {withSuspense} from './Hoc/withSuspens';\n//import { authMeCreator, login, logout } from \"../Redux/authReducer.jsx\";\n//import MyPostsConteiner from \"./Profile/MyPosts/MyPostsConteiner\";\nconst ProfileConteiner = React.lazy(() => import('./Profile/ProfileConteiner'));\nconst DialogsConteiner = React.lazy(() => import('./Dialogs/DialogsConteiner'));\n\n//function App(){Компонента - функция возвращающая разметку JSX (новый тег)\nclass App extends Component {\n\n// - method for allert all mistakes\ncatchAllUnhandledErrors = (promiseRejectionEvent) => {\n  alert(promiseRejectionEvent);// - need dispatch thunk in reducer and show\n}\n\n  componentDidMount() {\n    this.props.initializedAPP();\n    // - подбисываемся на любую ошибку\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n  }\n  // - при демонтировании сомпоненты необходимо отписаться от ошибки\n  componentWillUnmount(){\nwindow.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n  }\n  render(){\n    if(this.props.initialized === false){\n      return <Preloader/>\n    } else\n  //only one common parent this \"div\" for exs.!\n  return (\n    // JSX markup (разметка)\n    // <BrowserRouter>\n    <div className=\"app-wrapper\">\n      <HeaderConteiner />\n      <Navbar />\n      <div className=\"app-wrapper-content\">\n        {/* backgrouund for all pages */}\n        {/* <Route path = '/profile' component = {Profile}/>\n      <Route path = '/dialogs' component = {Dialogs}/>\n      <Route path = '/news' component = {News}/>\n      <Route path = '/music' component = {Music}/>\n      <Route path = '/settings' component = {Settings}/> */}\n      <switch>\n      <Redirect from=\"/\" to=\"/profile\" />\n        <Route\n          path=\"/profile/:userId?\"\n          render={() => {\n            return(\n              <React.Suspense \n              fallback = {<div><Preloader/></div>}>\n            <ProfileConteiner/>\n            {/* store = {props.store}\n            dispatch = {props.dispatch}\n            addPost={props.addPost}\n            updateNewPostText={props.updateNewPostText} */}\n          </React.Suspense>\n            )\n          }}\n        />\n\n        <Route\n          path=\"/dialogs\" // - withSuspense - HOC !!!\n          render={withSuspense(DialogsConteiner)}/>\n \n            {/* // store = {props.store}\n            // dispatch = {props.dispatch}\n            // addMessage={props.addMessage}\n            // updateNewMessageText={props.updateNewMessageText}\n            //dialogs={props.state.messages.dialogsData}\n            // messages={props.state.messages.messagesData}\n            //newMessageText = {props.state.messages.newMessageText}\n            //dispatch = {props.dispatch} */}\n           \n           \n        <Route path=\"/news\" render={() => <News />} />\n        <Route path=\"/music\" render={() => <Music />} />\n        <Route path=\"/users\" render={() => <UsersConteiner />} />\n        <Route path=\"/settings\" render={() => <Settings />} />\n        <Route path=\"/login\" render={() => <Login />} />\n        <Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\n        </switch>\n      </div>\n    </div>\n    // - common parent\n    //</BrowserRouter>\n  );\n}\n};\n\nconst MapStateToProps = state => ({\ninitialized: state.app.initialized // - props.initialized\n})\n\nexport default compose(\n  withRouter,\n  connect(MapStateToProps, {initializedAPP}))(App); // - default - по умолчанию чтото експортируем\n","import React from \"react\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\n\r\n\r\nexport const withSuspense = Component => {\r\n\r\n      return (props) => {\r\n      return <React.Suspense fallback = {<Preloader/>}>\r\n        <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n  }\r\n\r\n\r\n","import \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\n// import rerenderEntireTree from './render';\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport store from './Redux/reduxStore';\nimport App from \"./App\";\nimport { BrowserRouter, HashRouter } from \"react-router-dom\";\n//import StoreContext from \"./StoreContext\";\n//import {Provider} from \"./StoreContext\";\nimport {Provider} from \"react-redux\";\n\n// let state get props from state!\n\nlet rerenderEntireTree = (props) => {\n  ReactDOM.render( // - props => getState()\n  <HashRouter>\n    {/*<BrowserRouter basename = {process.env.PUBLIC_RL}>\n    StoreContext.*/}<Provider /*value*/store = {store}>\n      {/* <App state={props} addPost={store.addPost.bind(store)} \n      updateNewPostText = {store.updateNewPostText.bind(store)}\n      addMessage={store.addMessage.bind(store)} //- store method !!!\n      updateNewMessageText = {store.updateNewMessageText.bind(store)}/> */}\n      {/*store = {store} dispatch = {store.dispatch.bind(store)} \n       state = {props}*/}\n       <App  />\n       {/*StoreContext.*/}</Provider>\n    {/*</BrowserRouter>*/} \n    </HashRouter>,//- if not call now we must to bind context\n    document.getElementById(\"root\")// to store object\n  );\n};\n\nrerenderEntireTree();// - первая прорисовка state\n\n// store.subscribe ( () => {\n//   let state = store.getState();\n//   rerenderEntireTree (state);\n// });// - передаем как аргумент в State\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__Nr5AI\",\"firstPart\":\"Users_firstPart__3aFN5\",\"fotoStyle\":\"Users_fotoStyle__TJyUg\",\"secondPart\":\"Users_secondPart__3U60J\",\"thirdPart\":\"Users_thirdPart__20ddh\",\"selectedPage\":\"Users_selectedPage__PkZpV\",\"preloader\":\"Users_preloader__1yoUl\"};","import React from 'react';\r\nimport preload from '../../images/preload.svg';\r\nimport s from '../../Users/Users.module.css';\r\n\r\nlet Preloader = (props) => {\r\n    return <img src={preload} id={s.preloader} alt ='preloader'/> \r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Paginator_user__1ooqz\",\"inputs\":\"Paginator_inputs__2EyQR\",\"pages\":\"Paginator_pages__1owSc\",\"paginator\":\"Paginator_paginator__1_cRN\",\"firstPart\":\"Paginator_firstPart__ViWPP\",\"fotoStyle\":\"Paginator_fotoStyle__2VpBP\",\"secondPart\":\"Paginator_secondPart__3bf-w\",\"thirdPart\":\"Paginator_thirdPart__2Vv5L\",\"selectedPage\":\"Paginator_selectedPage__2aooG\",\"preloader\":\"Paginator_preloader__2IG_7\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\n//--------------------Замыкание - Сircuit-----------------//\r\n\r\n// - функция возвращает функцию которая имеет доступ к ---//\r\n// - аргументам материнской функции \"maxLength\"--------//\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return (\r\n        `Max length is more ${maxLength} symbols`\r\n    ); \r\nreturn undefined;\r\n}","import React from \"react\";\r\nimport s from \"./Forms.module.css\";\r\nimport { Field } from \"redux-form\";\r\n\r\n//-------------META WAS DISTRUCTION--------------------//\r\nexport const Element = Element => \r\n({ input, meta:{touched, error}, children, ...props }) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    // - meta.error from validator !!!\r\n    <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n      <Element {...input} {...props} />\r\n      {hasError && <span>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\n// // -------------META WAS NOT DISTRUCTION----------------//\r\n// export const ElementInput = ElementInput => \r\n// ({ input, meta, ...props }) => {\r\n//   const hasError = meta.touched && meta.error;\r\n//   return (\r\n//     // - meta.error from validator !!!\r\n//     <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n//       <ElementInput {...input} {...props} />\r\n//       {hasError && <span>{meta.error}</span>}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\nexport const CreateField = \r\n(placeholder, name, component, validators, type, text = \"\", props = {}) => {\r\n  const InputElement = Element(component);\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        name={name}\r\n        component={InputElement}\r\n        validate={validators}\r\n        type={type}\r\n        {...props}\r\n      /> {text}\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3ZQJ7\",\"loginBlock\":\"Header_loginBlock__3yl9Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSummaryError\":\"Login_formSummaryError__2sUg7\",\"captcha\":\"Login_captcha__1iVWq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"Forms_formControl__2dNx8\",\"error\":\"Forms_error__2xbnK\"};","import { usersAPI, profileAPI } from \"../Api/api.js\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = \"ADD_POST\";\r\n//const UPDATE_NEW_POST_TEXT = 'UPDATE_NEW_POST_TEXT';\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCSESS = \"SAVE_PHOTO_SUCSESS\";\r\n\r\nlet initialState = {\r\n  postsData: [{ id: 1, message: \"Hi!\", likesCount: 5 }],\r\n  //newPostText: \"Enter New Text\",\r\n  profile: null,\r\n  status: \"\"\r\n};\r\n\r\nArray.prototype.last = function() {\r\n  return this[this.length - 1];\r\n}; // - function for last element\r\n\r\nexport const addPost = newPostText => ({\r\n  type: ADD_POST,\r\n  newPostText\r\n});\r\n\r\n// export const updateNewPostText = newText => ({\r\n//   type:UPDATE_NEW_POST_TEXT,\r\n//   newText\r\n// });\r\n\r\nexport const setUserProfile = profile => ({\r\n  type: SET_USER_PROFILE,\r\n  profile\r\n});\r\n\r\nexport const setStatus = status => ({\r\n  type: SET_STATUS,\r\n  status\r\n});\r\n\r\nexport const deletePost = postId => ({\r\n  type: DELETE_POST,\r\n  postId\r\n})\r\n\r\nexport const savePhotoSucsess = photos => ({\r\ntype: SAVE_PHOTO_SUCSESS,\r\n  photos\r\n})\r\n\r\n//----------------------THUNK functions---------------------//\r\n// --------places for asincronic request\r\n\r\n//----------------------OLD THEN PROMISE---------------------//\r\n//- export to UsersConteiner and into CONNECT (getMapToProps)\r\n// export const getProfileCreator = (userId) => {\r\n//   // - thuncCreator get arguments from STATE !!! and returns f()\r\n//   return dispatch => {\r\n//     // - the Thunk function\r\n//     usersAPI.getProfile(userId).then(response => {\r\n//       // - preloading disactive\r\n//       dispatch(setUserProfile(response));\r\n//     });\r\n//   };\r\n// };\r\n\r\n//-----------------------NEW ASYNC AWAITS----------------------//\r\nexport const getProfileCreator = userId => async dispatch => {\r\n  let response = await usersAPI.getProfile(userId);\r\n  dispatch(setUserProfile(response));\r\n};\r\n\r\nexport const getStatus = userId => async dispatch => {\r\n  let response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response));\r\n};\r\n\r\nexport const updateStatus = status => async dispatch => {\r\n  let response = await profileAPI.updateStatus(status);\r\n  if (response.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n\r\nexport const savePhoto = file => async dispatch => {\r\n  let response = await profileAPI.savePhoto(file);// -send photo to server\r\n  if (response.resultCode === 0) {\r\n    dispatch(savePhotoSucsess(response.data.photos));// - get photos from server\r\n  }\r\n};\r\n\r\nexport const saveProfile = profile => async (dispatch, getState) => {\r\n  const userId = getState().auth.id;\r\n  let response = await profileAPI.saveProfile(profile);\r\n  // -send profile to server\r\n // console.log(response);\r\n  if (response.resultCode === 0) {\r\n    dispatch(getProfileCreator(userId));// - get profile\r\n  } else {\r\n    dispatch(stopSubmit(\"edit-profile\",{_error:response.messages[0]}));\r\n    //dispatch(stopSubmit(\"edit-profile\",{\"contacts\":\r\n    //{\"fasebook\":response.messages[0]}}));\r\n    return Promise.reject(response.messages[0]);\r\n    //= waiting wen Promis resolw avter dispatch\r\n  }\r\n};\r\n//------------------Reduser----------------------------//\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  //let stateCopy; // - initial stateCopy\r\n  switch (action.type) {\r\n    // case UPDATE_NEW_POST_TEXT:\r\n    // stateCopy = { // -  first to make the copy state\r\n    // ...state,\r\n    //newPostText: action.newText // change text area\r\n    //};\r\n    // stateCopy.newPostText = action.newText;\r\n    //return stateCopy;\r\n    // return { ...state, newPostText: action.newText };\r\n    // - update the text area in state !!!\r\n\r\n    case ADD_POST:\r\n      // let newPost = {\r\n      //   id: state.postsData.last().id + 1, // - profile now in reduxStore !!!!!!!\r\n      //   message: state./*profile.*/ newPostText, // to get in state.newPostText\r\n      //   // not in DOM textarea !!!\r\n      //   likesCount: 0\r\n      // };\r\n      // stateCopy = {\r\n      //   // -  first to make the copy\r\n      //   ...state,\r\n      //   postsData: [...state.postsData, newPost],//-push new post\r\n      //   newPostText: \"\"// - to null textarea\r\n      // };\r\n      //stateCopy.postsData.push(newPost);\r\n      //stateCopy.newPostText = \"\"; // - to null textarea\r\n      //return stateCopy;\r\n      return {\r\n        ...state,\r\n        postsData: [\r\n          ...state.postsData,\r\n          {\r\n            id: state.postsData.last().id + 1,\r\n            message: action.newPostText, // to get in state.newPostText\r\n            // not in DOM textarea !!!\r\n            likesCount: 0\r\n          }\r\n        ],\r\n        // ], //-push new post in postData\r\n        newPostText: \"\" // - to null textarea\r\n      };\r\n\r\n    case SET_USER_PROFILE:\r\n      return { ...state, profile: action.profile };\r\n\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      };\r\n\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id != action.postId)\r\n      };\r\n\r\n    case SAVE_PHOTO_SUCSESS:\r\n      return {\r\n        ...state,\r\n        profile: {...state.profile, photos: action.photos}\r\n      }\r\n\r\n    default:\r\n      return state;\r\n\r\n    // if (action.type ==='ADD-POST' ){\r\n    //   addPost();\r\n    // } else if (action.type === 'UPDATE-NEW-POST-TEXT'){\r\n    //   updateNewPostText(action.newText);\r\n    // }\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = state => ({\r\n  isAuth: state.auth.isAuth // - for redirecting in ProfileInfo\r\n});\r\n\r\n\r\nexport const withAuthRedirect = Component => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={\"/login\"} />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n let ConnectAuthRedirectComponent = connect(mapStateToPropsForRedirect)\r\n(RedirectComponent);\r\n\r\n  return  ConnectAuthRedirectComponent;\r\n}\r\n\r\nexport default withAuthRedirect;\r\n\r\n"],"sourceRoot":""}