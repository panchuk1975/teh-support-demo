(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(44),r=n(7),c={dialogsData:[{id:1,name:"Vadik"},{id:2,name:"Natasha"},{id:3,name:"Olga"},{id:4,name:"Volodia"},{id:5,name:"OlgaV"}],messagesData:[{id:1,message:"Hi!"},{id:2,message:"Hello!"},{id:3,message:"Hi-Hi!"},{id:4,message:"Ok"},{id:5,message:"OK-Ok"},{id:6,message:"OK-Ok"}]};Array.prototype.last=function(){return this[this.length-1]};var o=function(e){return{type:"ADD_MESSAGE",newMessageText:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(r.a)({},e,{messagesData:[].concat(Object(a.a)(e.messagesData),[{id:e.messagesData.last().id+1,message:t.newMessageText}])});default:return e}}},11:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));var a=n(130),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"73ba89b2-a673-47b8-b695-9bef7378aa54"}}),c={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},doUnfollow:function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))},doFollow:function(e){return r.post("follow/".concat(e),{}).then((function(e){return e.data}))},getProfile:function(e){return o.getProfile(e)}},o={getProfile:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return r.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return r.put("profile/status",{status:e}).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multypart/form-data"}}).then((function(e){return e.data}))},saveProfile:function(e){return r.put("profile",e).then((function(e){return e.data}))}},i={authMe:function(){return r.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))},logout:function(){return r.delete("auth/login").then((function(e){return e.data}))}},u={getCaptchaUrl:function(){return r.get("security/get-captcha-url").then((function(e){return e.data}))}}},13:function(e,t,n){e.exports={nav:"Navbar_nav__3lC7K",item:"Navbar_item__3fqh1",activeLink:"Navbar_activeLink__3zgRH"}},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t){e.exports="data:image/jpeg;base64,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"},138:function(e,t,n){e.exports=n.p+"static/media/preload.7ea39d80.svg"},140:function(e,t,n){},167:function(e,t,n){e.exports=n(294)},168:function(e,t,n){},251:function(e,t,n){},294:function(e,t,n){"use strict";n.r(t);n(168),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),r=n.n(a),c=n(64),o=n.n(c),i=n(9),u=n(95),s=n(106),l=n(44),f=n(7),p=n(5),d=n.n(p),h=n(12),m=n(11),g=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(f.a)({},e,{},a):e}))},E={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},A=function(e){return{type:"FOLLOW",userID:e}},b=function(e){return{type:"UNFOLLOW",userID:e}},O=function(e){return{type:"SET_USERS",users:e}},v=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},S=function(e){return{type:"IS_FETCHING",isFetching:e}},w=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",followingInProgress:e,userID:t}},C=function(){var e=Object(h.a)(d.a.mark((function e(t,n,a,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w(!0,n)),e.next=3,a(n);case 3:0===e.sent.resultCode&&t(r(n)),t(w(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=function(t){for(var n=0;n<=e.followingInProgress.length;)e.followingInProgress[n]===t&&e.followingInProgress.splice(n,1),n++;return e.followingInProgress};switch(t.type){case"FOLLOW":return Object(f.a)({},e,{users:g(e.users,t.userID,"id",{followed:!0})});case"UNFOLLOW":return Object(f.a)({},e,{users:g(e.users,t.userID,"id",{followed:!1})});case"SET_USERS":return Object(f.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(f.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(f.a)({},e,{totalUsersCount:t.count});case"IS_FETCHING":return Object(f.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(f.a)({},e,{followingInProgress:t.followingInProgress?[].concat(Object(l.a)(e.followingInProgress),[t.userID]):n(t.userID)});case"SET_NEW_PAGE_SIZE":return Object(f.a)({},e,{pageSize:t.newPageSize});default:return e}},P=n(36),j={id:null,email:null,login:null,isAuth:!1,rememberMe:null,captchaUrl:null},Q=function(e,t,n,a){return{type:"SET_AUTH_USER_DATA",payload:{id:e,email:t,login:n,isAuth:a}}},y=function(e){return{type:"GET_CUPTCHA_URL_SUCSESS",payload:{captchaUrl:e}}},U=function(){return function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.authMe();case 2:0===(n=e.sent).resultCode&&(a=n.data,r=a.id,c=a.login,o=a.email,t(Q(r,o,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e,t,n,a){return function(){var r=Object(h.a)(d.a.mark((function r(c){var o,i,u;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.login(e,t,n,a);case 2:0===(o=r.sent).resultCode?(i=o.data.userId,c(Q(i,e,t,!0))):(10===o.resultCode&&c(L()),u=o.messages.length>0?o.messages[0]:"Some error !!!",c(Object(P.a)("login",{_error:u})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},L=function(){return function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.c.getCaptchaUrl();case 2:n=e.sent,a=n.url,console.log(a),t(y(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER_DATA":return Object(f.a)({},e,{},t.payload);case"IS_FETCHING":return Object(f.a)({},e,{isFetching:t.isFetching});case"GET_CUPTCHA_URL_SUCSESS":return Object(f.a)({},e,{},t.payload);default:return e}},N={initialized:!1},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCSESS":return Object(f.a)({},e,{initialized:!0});default:return e}},k=n(131),_=n(129),z=Object(i.c)({profile:u.b,messages:s.b,usersPage:I,auth:T,form:_.a,app:F}),D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,M=Object(i.e)(z,D(Object(i.a)(k.a)));window.store=M;var J=M,B=n(28),R=n(29),G=n(31),W=n(30),q=n(32),V=(n(251),n(13)),Z=n.n(V),H=n(10),K=function(){return r.a.createElement("nav",{className:Z.a.nav},r.a.createElement("div",{className:Z.a.item},r.a.createElement(H.b,{to:"/Login",activeClassName:Z.a.activeLink},"Login")),r.a.createElement("div",{className:Z.a.item},r.a.createElement(H.b,{to:"/Profile",activeClassName:Z.a.activeLink},"Profile")),r.a.createElement("div",{className:"".concat(Z.a.item," ").concat(Z.a.active)},r.a.createElement(H.b,{to:"/Dialogs",activeClassName:Z.a.activeLink},"Massages")),r.a.createElement("div",{className:Z.a.item},r.a.createElement(H.b,{to:"/News",activeClassName:Z.a.activeLink},"News")),r.a.createElement("div",{className:Z.a.item},r.a.createElement(H.b,{to:"/Music",activeClassName:Z.a.activeLink},"Music")),r.a.createElement("div",{className:Z.a.item},r.a.createElement(H.b,{to:"/Settings",activeClassName:Z.a.activeLink},"Setttings")),r.a.createElement("div",{className:Z.a.item},r.a.createElement(H.b,{to:"/Users",activeClassName:Z.a.activeLink},"Users")))},Y=n(135),X=n.n(Y),$=function(e){return r.a.createElement("div",{className:X.a.content},"News")},ee=n(136),te=n.n(ee),ne=function(e){return r.a.createElement("div",{className:te.a.content},"Music")},ae=n(14),re=n(87),ce=n(41),oe=n.n(ce),ie=function(e){for(var t=e.totalUsersCount,n=e.pageSize,c=e.setNewPageSize,o=e.currentPage,i=e.onPageChanged,u=Math.ceil(t/n),s=[],l=1;l<=u;l++)s.push(l);var f=Object(a.useState)(1),p=Object(re.a)(f,2),d=p[0],h=p[1],m=Object(a.useState)(8),g=Object(re.a)(m,2),E=g[0],A=g[1],b=Math.ceil(u/E),O=(d-1)*E+1,v=d*E;return r.a.createElement("div",null,r.a.createElement("div",{className:oe.a.inputs},r.a.createElement("span",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435:",r.a.createElement("input",{type:"number",size:"3",name:"num1",min:"10",max:"100",step:"10",defaultValue:n,onChange:function(e){c(e.target.value),i(o)}})),r.a.createElement("span",null,"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446:",r.a.createElement("input",{type:"number",size:"3",name:"num2",min:"4",max:"15",step:"1",defaultValue:E,onChange:function(e){if(e.target.value<4)return A(4);A(E=e.target.value)}}))),r.a.createElement("div",{className:oe.a.paginator},r.a.createElement("span",null,d>1&&r.a.createElement("button",{className:oe.a.buttons,onClick:function(){h(d-1)}},"Prev")),s.filter((function(e){return e>=O&&e<=v})).map((function(e){return r.a.createElement("span",{className:oe.a.pages},r.a.createElement("span",{onClick:function(t){i(e)},className:o===e&&oe.a.selectedPage},e+","))})),r.a.createElement("span",null,d<b&&r.a.createElement("button",{className:oe.a.buttons,onClick:function(){h(d+1)}},"Next"))))},ue=n(137),se=n.n(ue),le=n(35),fe=n.n(le),pe=function(e){var t=e.user,n=e.check,a=e.unfollowCreator,c=e.followCreator;return r.a.createElement("div",null,r.a.createElement("div",{key:t.id,className:fe.a.user},r.a.createElement("span",{id:fe.a.firstPart},r.a.createElement("div",null,r.a.createElement(H.b,{to:"/Profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:se.a,id:fe.a.fotoStyle,alt:"avatar"}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:n(t.id),onClick:function(){a(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:n(t.id),onClick:function(){c(t.id)}},"Follow"))),r.a.createElement("span",{id:fe.a.secondPart},r.a.createElement("div",null,t.name)),r.a.createElement("span",{id:fe.a.thirdPart})))},de=r.a.memo((function(e){return r.a.createElement("div",null,r.a.createElement(ie,e),e.users.map((function(t){return r.a.createElement(pe,Object.assign({user:t},e))})))})),he=n(39),me=n(96),ge=n(139),Ee=function(e){return e.usersPage.users},Ae=function(e){return e.usersPage.isFetching},be=(Object(ge.a)(Ee,Ae,(function(e,t){return e.filter((function(e){return!0}))})),function(e){return e.usersPage.pageSize}),Oe=function(e){return e.usersPage.totalUsersCount},ve=function(e){return e.usersPage.currentPage},Se=function(e){return e.usersPage.followingInProgress},we=function(e){function t(){var e,n;Object(B.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(G.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){n.props.getUsersOnPageChanged(e,n.props.pageSize)},n.check=function(e){for(var t=0,a=!1;t<=n.props.followingInProgress.length;)n.props.followingInProgress[t]===e&&(a=!0),t++;return a},n}return Object(q.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(he.a,null):null,r.a.createElement(de,Object.assign({},this.props,{onPageChanged:this.onPageChanged,check:this.check})))}}]),t}(r.a.Component),Ce=Object(i.d)(me.a,Object(ae.b)((function(e){return Object(f.a)({},e,{users:Ee(e),pageSize:be(e),totalUsersCount:Oe(e),currentPage:ve(e),isFetching:Ae(e),followingInProgress:Se(e)})}),{follow:A,unfollow:b,toggleFollowingProgress:w,getUsersThunkCreator:function(e,t){return function(){var n=Object(h.a)(d.a.mark((function n(a){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(S(!0)),n.next=3,m.d.getUsers(e,t);case 3:r=n.sent,a(S(!1)),a(O(r.items)),a({type:"SET_TOTAL_USERS_COUNT",count:r.totalCount});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},getUsersOnPageChanged:function(e,t){return function(){var n=Object(h.a)(d.a.mark((function n(a){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(S(!0)),a(v(e)),n.next=4,m.d.getUsers(e,t);case 4:r=n.sent,a(S(!1)),a(O(r.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},followCreator:function(e){return function(){var t=Object(h.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C(n,e,m.d.doFollow.bind(m.d),A);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowCreator:function(e){return function(){var t=Object(h.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C(n,e,m.d.doUnfollow.bind(m.d),b);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setNewPageSize:function(e){return{type:"SET_NEW_PAGE_SIZE",newPageSize:e}}}))(we),Ie=n(140),Pe=n.n(Ie),je=function(e){return r.a.createElement("div",{className:Pe.a.content},"Settings")},Qe=n(25),ye=n(67),Ue=n.n(ye),xe=function(e){return r.a.createElement("header",{className:Ue.a.header},r.a.createElement("img",{alt:"header",src:"https://www.photoukraine.com/photos/150034.jpg"}),r.a.createElement("div",{className:Ue.a.loginBlock},e.isAuth?r.a.createElement("div",null,e.email," ",r.a.createElement("button",{onClick:e.logout},"Logout")," "):r.a.createElement(H.b,{to:"/login"},"Login")))},Le=function(e){function t(){return Object(B.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.authMeCreator()}},{key:"render",value:function(){return r.a.createElement(xe,this.props)}}]),t}(r.a.Component),Te=Object(ae.b)((function(e){return{isAuth:e.auth.isAuth,email:e.auth.email}}),{authMeCreator:U,logout:function(){return function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.logout();case 2:0===e.sent.resultCode&&t(Q(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},login:x})(Le),Ne=n(128),Fe=n(45),ke=n(91),_e=n.n(ke),ze=n(51),De=Object(Fe.a)(40),Me=Object(Ne.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,a=e.captchaUrl;return(r.a.createElement("form",{onSubmit:t},Object(ze.a)("Email","email","input",[Fe.b,De],"input"),Object(ze.a)("Password","password","input",[Fe.b,De],"password"),Object(ze.a)(null,"rememberMe","input",[Fe.b],"checkbox","Remember"),n&&r.a.createElement("div",{className:_e.a.formSummaryError},n),r.a.createElement("div",null,r.a.createElement("button",null,"Log on")),a&&r.a.createElement("img",{src:a,id:_e.a.captcha}),a&&Object(ze.a)("Symbols","captcha","input",[Fe.b,De],"input")))})),Je=Object(ae.b)((function(e){return{isAuth:e.auth.isAuth,email:e.auth.email,captchaUrl:e.auth.captchaUrl}}),{login:x})((function(e){return e.isAuth?r.a.createElement(Qe.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(Me,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))})),Be=r.a.lazy((function(){return n.e(3).then(n.bind(null,304))})),Re=r.a.lazy((function(){return n.e(4).then(n.bind(null,305))})),Ge=function(e){function t(){var e,n;Object(B.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(G.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).catchAllUnhandledErrors=function(e){alert(e)},n}return Object(q.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.initializedAPP(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return!1===this.props.initialized?r.a.createElement(he.a,null):r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(Te,null),r.a.createElement(K,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement("switch",null,r.a.createElement(Qe.a,{from:"/",to:"/profile"}),r.a.createElement(Qe.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,r.a.createElement(he.a,null))},r.a.createElement(Be,null))}}),r.a.createElement(Qe.b,{path:"/dialogs",render:(e=Re,function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(he.a,null)},r.a.createElement(e,t))})}),r.a.createElement(Qe.b,{path:"/news",render:function(){return r.a.createElement($,null)}}),r.a.createElement(Qe.b,{path:"/music",render:function(){return r.a.createElement(ne,null)}}),r.a.createElement(Qe.b,{path:"/users",render:function(){return r.a.createElement(Ce,null)}}),r.a.createElement(Qe.b,{path:"/settings",render:function(){return r.a.createElement(je,null)}}),r.a.createElement(Qe.b,{path:"/login",render:function(){return r.a.createElement(Je,null)}}),r.a.createElement(Qe.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 NOT FOUND")}}))));var e}}]),t}(a.Component),We=Object(i.d)(Qe.f,Object(ae.b)((function(e){return{initialized:e.app.initialized}}),{initializedAPP:function(){return function(e){e(U()).then((function(){e({type:"INITIALIZED_SUCSESS"})}))}}}))(Ge);o.a.render(r.a.createElement(H.a,null,r.a.createElement(ae.a,{store:J},r.a.createElement(We,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},35:function(e,t,n){e.exports={user:"Users_user__Nr5AI",firstPart:"Users_firstPart__3aFN5",fotoStyle:"Users_fotoStyle__TJyUg",secondPart:"Users_secondPart__3U60J",thirdPart:"Users_thirdPart__20ddh",selectedPage:"Users_selectedPage__PkZpV",preloader:"Users_preloader__1yoUl"}},39:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(138),o=n.n(c),i=n(35),u=n.n(i);t.a=function(e){return r.a.createElement("img",{src:o.a,id:u.a.preloader,alt:"preloader"})}},41:function(e,t,n){e.exports={user:"Paginator_user__1ooqz",inputs:"Paginator_inputs__2EyQR",pages:"Paginator_pages__1owSc",paginator:"Paginator_paginator__1_cRN",firstPart:"Paginator_firstPart__ViWPP",fotoStyle:"Paginator_fotoStyle__2VpBP",secondPart:"Paginator_secondPart__3bf-w",thirdPart:"Paginator_thirdPart__2Vv5L",selectedPage:"Paginator_selectedPage__2aooG",preloader:"Paginator_preloader__2IG_7"}},45:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is more ".concat(e," symbols")}}},51:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(141),r=n(0),c=n.n(r),o=n(92),i=n.n(o),u=n(88),s=function(e){return function(t){var n=t.input,r=t.meta,o=r.touched,u=r.error,s=(t.children,Object(a.a)(t,["input","meta","children"])),l=o&&u;return c.a.createElement("div",{className:i.a.formControl+" "+(l?i.a.error:"")},c.a.createElement(e,Object.assign({},n,s)),l&&c.a.createElement("span",null,u))}},l=function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=s(n);return c.a.createElement("div",null,c.a.createElement(u.a,Object.assign({placeholder:e,name:t,component:l,validate:a,type:r},i))," ",o)}},67:function(e,t,n){e.exports={header:"Header_header__3ZQJ7",loginBlock:"Header_loginBlock__3yl9Y"}},91:function(e,t,n){e.exports={formSummaryError:"Login_formSummaryError__2sUg7",captcha:"Login_captcha__1iVWq"}},92:function(e,t,n){e.exports={formControl:"Forms_formControl__2dNx8",error:"Forms_error__2xbnK"}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return A}));var a=n(44),r=n(7),c=n(5),o=n.n(c),i=n(12),u=n(11),s=n(36),l={postsData:[{id:1,message:"Hi!",likesCount:5}],profile:null,status:""};Array.prototype.last=function(){return this[this.length-1]};var f=function(e){return{type:"ADD_POST",newPostText:e}},p=function(e){return{type:"SET_USER_PROFILE",profile:e}},d=function(e){return{type:"SET_STATUS",status:e}},h=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.d.getProfile(e);case 2:a=t.sent,n(p(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getStatus(e);case 2:a=t.sent,n(d(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.updateStatus(e);case 2:0===t.sent.resultCode&&n(d(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.savePhoto(e);case 2:0===(a=t.sent).resultCode&&n({type:"SAVE_PHOTO_SUCSESS",photos:a.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n,a){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.id,t.next=3,u.b.saveProfile(e);case 3:if(0!==(c=t.sent).resultCode){t.next=8;break}n(h(r)),t.next=10;break;case 8:return n(Object(s.a)("edit-profile",{_error:c.messages[0]})),t.abrupt("return",Promise.reject(c.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(r.a)({},e,{postsData:[].concat(Object(a.a)(e.postsData),[{id:e.postsData.last().id+1,message:t.newPostText,likesCount:0}]),newPostText:""});case"SET_USER_PROFILE":return Object(r.a)({},e,{profile:t.profile});case"SET_STATUS":return Object(r.a)({},e,{status:t.status});case"DELETE_POST":return Object(r.a)({},e,{posts:e.posts.filter((function(e){return e.id!=t.postId}))});case"SAVE_PHOTO_SUCSESS":return Object(r.a)({},e,{profile:Object(r.a)({},e.profile,{photos:t.photos})});default:return e}}},96:function(e,t,n){"use strict";var a=n(28),r=n(29),c=n(31),o=n(30),i=n(32),u=n(0),s=n.n(u),l=n(25),f=n(14),p=function(e){return{isAuth:e.auth.isAuth}};t.a=function(e){var t=function(t){function n(){return Object(a.a)(this,n),Object(c.a)(this,Object(o.a)(n).apply(this,arguments))}return Object(i.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){return this.props.isAuth?s.a.createElement(e,this.props):s.a.createElement(l.a,{to:"/login"})}}]),n}(s.a.Component);return Object(f.b)(p)(t)}}},[[167,1,2]]]);
//# sourceMappingURL=main.2502ef94.chunk.js.map